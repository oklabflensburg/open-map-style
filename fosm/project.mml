{
  "bounds": [
    -180,
    -85.05112877980659,
    180,
    85.05112877980659
  ],
  "center": [
    0,
    0,
    4
  ],
  "format": "png",
  "interactivity": false,
  "minzoom": 0,
  "maxzoom": 22,
  "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
  "Stylesheet": [
    "style.mss",
    "fonts.mss",
    "shapefiles.mss",
    "landcover.mss",
    "water.mss",
    "water-features.mss",
    "road-colors-generated.mss",
    "roads.mss",
    "power.mss",
    "placenames.mss",
    "buildings.mss",
    "stations.mss",
    "amenity-points.mss",
    "ferry-routes.mss",
    "aerialways.mss",
    "admin.mss",
    "addressing.mss",
    "golf.mss",
    "tourism.mss"
  ],
  "Layer": [
    {
      "id": "landcover-low-zoom",
      "geometry": "polygon",
      "extent": [
        -179.99999692067183,
        -85.051,
        179.99999692067183,
        85.051
      ],
      "srs-name": "900913",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, way_pixels, name,\n    COALESCE(wetland, landuse, \"natural\") AS feature\n  FROM (SELECT\n      way,\n      name,\n      ('landuse_' || (CASE WHEN landuse IN ('forest', 'farmland', 'residential', 'commercial', 'retail', 'industrial',\n                                            'meadow', 'grass', 'village_green', 'vineyard', 'orchard') THEN landuse END)) AS landuse,\n      ('natural_' || (CASE WHEN \"natural\" IN ('wood', 'sand', 'scree', 'shingle', 'bare_rock', 'heath', 'grassland', 'scrub') THEN \"natural\" END)) AS \"natural\",\n      ('wetland_' || (CASE WHEN \"natural\" IN ('wetland', 'mud') THEN (CASE WHEN \"natural\" IN ('mud') THEN \"natural\" ELSE tags->'wetland' END) END)) AS wetland,\n      way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n      way_area\n    FROM planet_osm_polygon\n    WHERE (landuse IN ('forest', 'farmland', 'residential', 'commercial', 'retail', 'industrial', 'meadow', 'grass', 'village_green', 'vineyard', 'orchard')\n      OR \"natural\" IN ('wood', 'wetland', 'mud', 'sand', 'scree', 'shingle', 'bare_rock', 'heath', 'grassland', 'scrub'))\n      AND way_area > 0.01*!pixel_width!::real*!pixel_height!::real\n      AND building IS NULL\n  ) AS features\n  ORDER BY way_area DESC, feature\n) AS landcover_low_zoom",
        "extent_cache": "auto",
        "srid": "3857"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 5,
        "maxzoom": 9
      },
      "class": "",
      "advanced": {
        "srid": "3857"
      },
      "name": "landcover-low-zoom",
      "layerId": "landcover-low-zoom"
    },
    {
      "id": "landcover",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, name, religion, way_pixels, is_building,\n    COALESCE(aeroway, golf, amenity, wetland, power, landuse, leisure, man_made, \"natural\", shop, tourism, highway, railway) AS feature\n  FROM (SELECT\n      way, COALESCE(name, '') AS name,\n      ('aeroway_' || (CASE WHEN aeroway IN ('apron', 'aerodrome') THEN aeroway END)) AS aeroway,\n      ('golf_' || (CASE WHEN (tags->'golf') IN ('rough', 'fairway', 'driving_range', 'water_hazard', 'green', 'bunker', 'tee') THEN tags->'golf' ELSE NULL END)) AS golf,\n      ('amenity_' || (CASE WHEN amenity IN ('bicycle_parking', 'motorcycle_parking', 'university', 'college', 'school', 'taxi',\n                                            'hospital', 'kindergarten', 'grave_yard', 'prison', 'place_of_worship', 'clinic', 'ferry_terminal',\n                                            'marketplace', 'community_centre', 'social_facility', 'arts_centre', 'parking_space', 'bus_station',\n                                            'fire_station', 'police')\n                      OR amenity IN ('parking') AND (tags->'parking' NOT IN ('underground') OR (tags->'parking') IS NULL) THEN amenity END)) AS amenity,\n      ('landuse_' || (CASE WHEN landuse IN ('quarry', 'vineyard', 'orchard', 'cemetery', 'residential', 'garages', 'meadow', 'grass',\n                                            'allotments', 'forest', 'farmyard', 'farmland', 'greenhouse_horticulture',\n                                            'recreation_ground', 'village_green', 'retail', 'industrial', 'railway', 'commercial',\n                                            'brownfield', 'landfill', 'salt_pond', 'construction', 'plant_nursery', 'religious', 'flowerbed') THEN landuse END)) AS landuse,\n      ('shop_' || (CASE WHEN shop IN ('mall') AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL) THEN shop END)) AS shop,\n      ('leisure_' || (CASE WHEN leisure IN ('swimming_pool', 'playground', 'park', 'garden',\n                                            'golf_course', 'miniature_golf', 'sports_centre', 'stadium', 'pitch', 'ice_rink',\n                                            'track', 'dog_park', 'fitness_station', 'water_park') THEN leisure END)) AS leisure,\n      ('man_made_' || (CASE WHEN man_made IN ('works', 'wastewater_plant', 'water_works') THEN man_made END)) AS man_made,\n      ('natural_' || (CASE WHEN \"natural\" IN ('beach', 'shoal', 'heath', 'grassland', 'wood', 'sand', 'scree', 'shingle', 'bare_rock', 'scrub') THEN \"natural\" END)) AS \"natural\",\n      ('wetland_' || (CASE WHEN \"natural\" IN ('wetland', 'mud') THEN (CASE WHEN \"natural\" = 'mud' THEN \"natural\" ELSE tags->'wetland' END) END)) AS wetland,\n      ('power_' || (CASE WHEN power IN ('plant', 'substation', 'generator') THEN power END)) AS power,\n      ('tourism_' || (CASE WHEN tourism IN ('camp_site', 'caravan_site', 'picnic_site') THEN tourism END)) AS tourism,\n      ('highway_' || (CASE WHEN highway IN ('services', 'rest_area') THEN highway END)) AS highway,\n      ('railway_' || (CASE WHEN railway = 'station' THEN railway END)) AS railway,\n      CASE WHEN religion IN ('christian', 'jewish', 'muslim') THEN religion ELSE 'INT-generic'::text END AS religion,\n      way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n      CASE WHEN building = 'no' OR building IS NULL THEN 'no' ELSE 'yes' END AS is_building,\n      way_area\n    FROM planet_osm_polygon\n    WHERE (landuse IS NOT NULL\n      OR leisure IS NOT NULL\n      OR aeroway IN ('apron', 'aerodrome')\n      OR (tags->'golf') IS NOT NULL\n      OR amenity IN ('parking', 'bicycle_parking', 'motorcycle_parking', 'taxi', 'university', 'college', 'school', 'hospital', 'kindergarten',\n                     'grave_yard', 'place_of_worship', 'prison', 'clinic', 'ferry_terminal', 'marketplace', 'community_centre', 'social_facility',\n                     'arts_centre', 'parking_space', 'bus_station', 'fire_station', 'police')\n      OR man_made IN ('works', 'wastewater_plant','water_works')\n      OR \"natural\" IN ('beach', 'shoal', 'heath', 'mud', 'wetland', 'grassland', 'wood', 'sand', 'scree', 'shingle', 'bare_rock', 'scrub')\n      OR power IN ('plant', 'substation', 'generator')\n      OR shop IN ('mall')\n      OR tourism IN ('camp_site', 'caravan_site', 'picnic_site')\n      OR highway IN ('services', 'rest_area')\n      OR railway = 'station')\n      AND way_area > 1*!pixel_width!::real*!pixel_height!::real\n  ) AS landcover\n  ORDER BY way_area DESC, feature\n) AS features"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 10
      },
      "layerId": "landcover"
    },
    {
      "id": "landcover-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE man_made = 'cutline'\n) AS landcover_line"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "landcover-line"
    },
    {
      "id": "icesheet-poly",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM icesheet_polygons\n) AS icesheet_polygons"
      },
      "properties": {
        "minzoom": 5
      },
      "layerId": "icesheet-poly"
    },
    {
      "id": "water-lines-low-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway,\n    CASE WHEN tags->'intermittent' IN ('yes')\n      OR tags->'seasonal' IN ('yes', 'spring', 'summer', 'autumn', 'winter', 'wet_season', 'dry_season')\n      THEN 'yes' ELSE 'no' END AS int_intermittent\n  FROM planet_osm_line\n  WHERE waterway = 'river'\n) AS water_lines_low_zoom"
      },
      "properties": {
        "minzoom": 8,
        "maxzoom": 11
      },
      "layerId": "water-lines-low-zoom"
    },
    {
      "id": "water-lines",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway,\n    name,\n    CASE WHEN tags->'intermittent' IN ('yes')\n      OR tags->'seasonal' IN ('yes', 'spring', 'summer', 'autumn', 'winter', 'wet_season', 'dry_season')\n      THEN 'yes' ELSE 'no' END AS int_intermittent,\n    CASE WHEN tunnel IN ('yes', 'culvert') \n      OR waterway = 'canal' AND tunnel = 'flooded'\n      THEN 'yes' ELSE 'no' END AS int_tunnel,\n    'no' AS bridge\n  FROM planet_osm_line\n  WHERE waterway IN ('river', 'canal', 'stream', 'drain', 'ditch')\n    AND (bridge IS NULL OR bridge NOT IN ('yes', 'aqueduct'))\n  ORDER BY COALESCE(layer,0)\n) AS water_lines"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "water-lines"
    },
    {
      "id": "water-areas",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    \"natural\",\n    waterway,\n    landuse,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    CASE WHEN tags->'intermittent' IN ('yes')\n      OR tags->'seasonal' IN ('yes', 'spring', 'summer', 'autumn', 'winter', 'wet_season', 'dry_season')\n      OR tags->'basin' IN ('detention', 'infiltration')\n      THEN 'yes' ELSE 'no' END AS int_intermittent\n  FROM planet_osm_polygon\n  WHERE\n    (waterway IN ('dock', 'riverbank')\n      OR landuse IN ('reservoir', 'basin')\n      OR \"natural\" IN ('water', 'glacier'))\n    AND building IS NULL\n    AND way_area > 1*!pixel_width!::real*!pixel_height!::real\n  ORDER BY COALESCE(layer,0), way_area DESC\n) AS water_areas"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 0
      },
      "layerId": "water-areas"
    },
    {
      "id": "ocean-lz",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM simplified_water_polygons\n) AS ocean_lz"
      },
      "properties": {
        "maxzoom": 9
      },
      "layerId": "ocean-lz"
    },
    {
      "id": "ocean",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM water_polygons\n) AS ocean"
      },
      "properties": {
        "minzoom": 10
      },
      "layerId": "ocean"
    },
    {
      "id": "landcover-area-symbols",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, surface,\n    COALESCE(CASE WHEN landuse = 'forest' THEN 'wood' END, \"natural\") AS \"natural\",\n    CASE WHEN \"natural\" = 'mud'\n        THEN \"natural\"\n        ELSE CASE WHEN (\"natural\" = 'wetland' AND NOT tags ? 'wetland')\n          THEN 'wetland'\n          ELSE CASE WHEN (\"natural\" = 'wetland')\n            THEN tags->'wetland'\n            END\n        END\n      END AS int_wetland,\n    landuse,\n    tags->'leaf_type' AS leaf_type,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE (\"natural\" IN ('mud', 'wetland', 'wood', 'beach', 'shoal', 'reef', 'scrub') OR landuse IN ('forest', 'salt_pond'))\n    AND building IS NULL\n    AND way_area > 1*!pixel_width!::real*!pixel_height!::real\n  ORDER BY COALESCE(layer,0), way_area DESC\n) AS landcover_area_symbols"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 9
      },
      "layerId": "landcover-area-symbols"
    },
    {
      "id": "icesheet-outlines",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    ice_edge\n  FROM icesheet_outlines\n) AS icesheet_outlines"
      },
      "properties": {
        "minzoom": 5
      },
      "layerId": "icesheet-outlines"
    },
    {
      "id": "marinas-area",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_polygon\n  WHERE leisure = 'marina'\n) AS marinas_area"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "marinas-area"
    },
    {
      "id": "water-barriers-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway\n  FROM planet_osm_line\n  WHERE waterway IN ('dam', 'weir', 'lock_gate')\n) AS water_barriers_line"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "water-barriers-line"
    },
    {
      "id": "water-barriers-poly",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway\n  FROM planet_osm_polygon\n  WHERE waterway IN ('dam', 'weir', 'lock_gate')\n) AS water_barriers_poly"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "water-barriers-poly"
    },
    {
      "id": "piers-poly",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, man_made\n  FROM planet_osm_polygon\n  WHERE man_made IN ('pier', 'breakwater', 'groyne')\n  ORDER BY CASE\n      WHEN man_made = 'pier' THEN 3\n      WHEN man_made = 'groyne' THEN 2\n      WHEN man_made = 'breakwater' THEN 1\n      ELSE 0\n    END ASC\n) AS piers_poly"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "piers-poly"
    },
    {
      "id": "piers-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, man_made\n  FROM planet_osm_line\n  WHERE man_made IN ('pier', 'breakwater', 'groyne')\n  ORDER BY CASE\n      WHEN man_made = 'pier' THEN 3\n      WHEN man_made = 'groyne' THEN 2\n      WHEN man_made = 'breakwater' THEN 1\n      ELSE 0\n    END ASC\n) AS piers_line"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "piers-line"
    },
    {
      "id": "water-barriers-point",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, waterway\n  FROM planet_osm_point\n  WHERE waterway IN ('dam', 'weir', 'lock_gate')\n) AS water_barriers_points"
      },
      "properties": {
        "minzoom": 17
      },
      "layerId": "water-barriers-point"
    },
    {
      "id": "bridge",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    man_made\n  FROM planet_osm_polygon\n  WHERE man_made = 'bridge'\n) AS bridge"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "bridge"
    },
    {
      "id": "buildings",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    building,\n    amenity,\n    aeroway,\n    aerialway,\n    tags->'public_transport' as public_transport\n  FROM planet_osm_polygon\n  WHERE building IS NOT NULL\n    AND building != 'no'\n    AND way_area > 1*!pixel_width!::real*!pixel_height!::real\n  ORDER BY COALESCE(layer,0), way_area DESC\n) AS buildings"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "buildings"
    },
    {
      "id": "tunnels",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    (CASE WHEN feature IN ('highway_motorway_link', 'highway_trunk_link', 'highway_primary_link', 'highway_secondary_link', 'highway_tertiary_link') THEN substr(feature, 0, length(feature)-4) ELSE feature END) AS feature,\n    tracktype,\n    int_surface,\n    int_access,\n    construction,\n    service,\n    link,\n    preserved,\n    layernotnull\n  FROM ( -- subselect that contains both roads and rail\n    SELECT\n        way,\n        'highway_' || (CASE WHEN highway = 'path' THEN carto_path_type(bicycle, horse) ELSE highway END) AS feature,\n        tracktype,\n        CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                              'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n             WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                              'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n        END AS int_surface,\n        carto_highway_int_access(highway, access, foot, bicycle, horse, tags->'motorcar', tags->'motor_vehicle', tags->'vehicle') AS int_access,\n        construction,\n        CASE\n          WHEN service IN ('parking_aisle', 'drive-through', 'driveway') OR leisure IN ('slipway') THEN 'INT-minor'::text\n          ELSE 'INT-normal'::text\n        END AS service,\n        CASE\n          WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link') THEN 'yes'\n          ELSE 'no'\n        END AS link,\n        NULL AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes')\n        AND highway IS NOT NULL -- end of road select\n    UNION ALL\n    SELECT\n        way,\n        'railway_' || (CASE\n                         WHEN (railway = 'rail' AND service IN ('spur', 'siding', 'yard')) THEN 'INT-spur-siding-yard'\n                         WHEN (railway = 'tram' AND service IN ('spur', 'siding', 'yard')) THEN 'tram-service'\n                         ELSE railway END) AS feature,\n        tracktype,\n        NULL AS int_surface,\n        NULL AS int_access,\n        construction,\n        NULL AS service,\n        NULL AS link,\n        CASE\n          WHEN tags->'railway:preserved' = 'yes' THEN 'yes'\n          ELSE 'no'\n        END AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes')\n        AND (railway NOT IN ('platform') AND railway IS NOT NULL) -- end of rail select\n    ) AS features\n  ORDER BY\n    layernotnull,\n    z_order,\n    CASE WHEN substring(feature for 8) = 'railway_' THEN 2 ELSE 1 END,\n    CASE WHEN feature IN ('railway_INT-spur-siding-yard', 'railway_tram-service') THEN 0 ELSE 1 END,\n    CASE int_access WHEN 'no' THEN 0 WHEN 'restricted' THEN 1 ELSE 2 END,\n    CASE WHEN int_surface IN ('unpaved') THEN 0 ELSE 1 END\n) AS tunnels"
      },
      "properties": {
        "cache-features": true,
        "group-by": "layernotnull",
        "minzoom": 10
      },
      "layerId": "tunnels"
    },
    {
      "id": "landuse-overlay",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    landuse,\n    military,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE (landuse = 'military'\n    OR military = 'danger_area')\n    AND building IS NULL\n) AS landuse_overlay"
      },
      "properties": {
        "minzoom": 8
      },
      "layerId": "landuse-overlay"
    },
    {
      "id": "barriers",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, COALESCE(historic, barrier) AS feature\n  FROM\n    (SELECT way,\n      ('barrier_' || (CASE WHEN barrier IN ('chain', 'city_wall', 'ditch', 'fence', 'guard_rail',\n            'handrail', 'hedge', 'retaining_wall', 'wall') THEN barrier END)) AS barrier,\n      ('historic_' || (CASE WHEN historic = 'citywalls' THEN historic END)) AS historic\n      FROM\n        (SELECT\n            way,\n            historic,\n            barrier,\n            waterway\n          FROM planet_osm_polygon\n          WHERE way && !bbox!\n        UNION ALL\n        SELECT\n            way,\n            historic,\n            barrier,\n            waterway\n          FROM planet_osm_line\n          WHERE way && !bbox!\n        ) _\n      WHERE barrier IN ('chain', 'city_wall', 'ditch', 'fence', 'guard_rail',\n          'handrail', 'hedge', 'retaining_wall', 'wall', 'jersey_barrier')\n      OR historic = 'citywalls'\n      AND (waterway IS NULL OR waterway NOT IN ('river', 'canal', 'stream', 'drain', 'ditch'))\n  ) AS features\n) AS line_barriers"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "barriers"
    },
    {
      "id": "cliffs",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, \"natural\", man_made\n  FROM planet_osm_line\n  WHERE \"natural\" IN ('arete', 'cliff', 'ridge') OR man_made = 'embankment'\n) AS cliffs"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 13
      },
      "layerId": "cliffs"
    },
    {
      "id": "ferry-routes",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE route = 'ferry'\n    AND osm_id > 0\n) AS ferry_routes"
      },
      "properties": {
        "minzoom": 8
      },
      "layerId": "ferry-routes"
    },
    {
      "id": "turning-circle-casing",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT DISTINCT ON (p.way)\n    p.way AS way,\n    p.highway AS type,\n    l.highway AS int_tc_type,\n    CASE WHEN l.service IN ('parking_aisle', 'drive-through', 'driveway')\n      THEN 'INT-minor'::text\n      ELSE 'INT-normal'::text\n    END AS int_tc_service\n  FROM planet_osm_point p\n    JOIN planet_osm_line l\n      ON ST_DWithin(p.way, l.way, 0.1) -- Assumes Mercator\n    JOIN (VALUES\n        ('trunk', 1),\n        ('primary', 2),\n        ('secondary', 3),\n        ('tertiary', 4),\n        ('unclassified', 5),\n        ('residential', 6),\n        ('living_street', 7),\n        ('service', 8),\n        ('track', 9)\n      ) AS v (highway, prio)\n      ON v.highway = l.highway\n  WHERE p.highway IN (\n    'turning_circle',\n    'turning_loop',\n    'mini_roundabout')\n    AND l.way && !bbox!\n    AND p.way && !bbox! -- Both conditions are necessary for good index usage, even with the DWithin above\n  ORDER BY p.way, v.prio\n) AS turning_circle_sql"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "turning-circle-casing"
    },
    {
      "id": "highway-area-casing",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    COALESCE((\n      'highway_' || (CASE WHEN highway IN ('pedestrian', 'footway', 'service', 'platform') THEN highway END)),\n      ('railway_' || (CASE WHEN (railway IN ('platform')\n                      AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n                      AND (tunnel NOT IN ('yes', 'building_passage') OR tunnel IS NULL))\n                      THEN railway END))\n    ) AS feature\n  FROM planet_osm_polygon\n  WHERE highway IN ('pedestrian', 'footway', 'service', 'platform')\n    OR (railway IN ('platform')\n        AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n        AND (tunnel NOT IN ('yes', 'building_passage') OR tunnel IS NULL))\n  ORDER BY COALESCE(layer,0), way_area DESC\n) AS highway_area_casing"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "highway-area-casing"
    },
    {
      "id": "roads-casing",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    (CASE WHEN feature IN ('highway_motorway_link', 'highway_trunk_link', 'highway_primary_link', 'highway_secondary_link', 'highway_tertiary_link') THEN substr(feature, 0, length(feature)-4) ELSE feature END) AS feature,\n    tracktype,\n    int_surface,\n    int_access,\n    construction,\n    service,\n    link,\n    preserved,\n    layernotnull\n  FROM ( -- subselect that contains both roads and rail/aero\n    SELECT\n        way,\n        'highway_' || (CASE WHEN highway = 'path' THEN carto_path_type(bicycle, horse) ELSE highway END) AS feature,\n        tracktype,\n        CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                              'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n             WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                              'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n        END AS int_surface,\n        carto_highway_int_access(highway, access, foot, bicycle, horse, tags->'motorcar', tags->'motor_vehicle', tags->'vehicle') AS int_access,\n        construction,\n        CASE\n          WHEN service IN ('parking_aisle', 'drive-through', 'driveway') OR leisure IN ('slipway') THEN 'INT-minor'::text\n          ELSE 'INT-normal'::text\n        END AS service,\n        CASE\n          WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link') THEN 'yes'\n          ELSE 'no'\n        END AS link,\n        NULL AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel IS NULL OR NOT tunnel IN ('yes', 'building_passage'))\n        AND (covered IS NULL OR NOT covered = 'yes')\n        AND (bridge IS NULL OR NOT bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct'))\n        AND highway IS NOT NULL -- end of road select\n    UNION ALL\n    SELECT\n        way,\n        'railway_' || (CASE\n                         WHEN (railway = 'rail' AND service IN ('spur', 'siding', 'yard')) THEN 'INT-spur-siding-yard'\n                         WHEN (railway = 'tram' AND service IN ('spur', 'siding', 'yard')) THEN 'tram-service'\n                         ELSE railway END) AS feature,\n        tracktype,\n        NULL AS int_surface,\n        NULL AS int_access,\n        construction,\n        NULL AS service,\n        NULL AS link,\n        CASE\n          WHEN tags->'railway:preserved' = 'yes' THEN 'yes'\n          ELSE 'no'\n        END AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel IS NULL OR NOT tunnel IN ('yes', 'building_passage'))\n        AND (covered IS NULL OR NOT covered = 'yes' OR railway IN ('platform'))\n        AND (bridge IS NULL OR NOT bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct'))\n        AND (railway NOT IN ('platform') OR (tags->'location' NOT IN ('underground')) OR (tags->'location') IS NULL)\n        AND railway IS NOT NULL -- end of rail select\n    ) AS features\n  ORDER BY\n    layernotnull,\n    z_order,\n    CASE WHEN substring(feature for 8) = 'railway_' THEN 2 ELSE 1 END,\n    CASE WHEN feature IN ('railway_INT-spur-siding-yard', 'railway_tram-service') THEN 0 ELSE 1 END,\n    CASE int_access WHEN 'no' THEN 0 WHEN 'restricted' THEN 1 ELSE 2 END,\n    CASE WHEN int_surface IN ('unpaved') THEN 0 ELSE 1 END,\n    osm_id\n) AS roads_sql"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 10
      },
      "layerId": "roads-casing"
    },
    {
      "id": "highway-area-fill",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    COALESCE(\n      ('highway_' || (CASE WHEN highway IN ('pedestrian', 'footway', 'service', 'living_street',\n                                            'platform', 'services') THEN highway END)),\n      ('railway_' || (CASE WHEN (railway IN ('platform')\n                      AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n                      AND (tunnel NOT IN ('yes', 'building_passage') OR tunnel IS NULL))\n                      THEN railway END)),\n      (('aeroway_' || CASE WHEN aeroway IN ('runway', 'taxiway', 'helipad') THEN aeroway ELSE NULL END))\n    ) AS feature,\n    CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                          'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n      WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                          'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n      ELSE NULL\n    END AS int_surface\n  FROM planet_osm_polygon\n  WHERE highway IN ('pedestrian', 'footway', 'service', 'living_street', 'platform', 'services')\n    OR (railway IN ('platform')\n        AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n        AND (tunnel NOT IN ('yes', 'building_passage') OR tunnel IS NULL))\n    OR aeroway IN ('runway', 'taxiway', 'helipad')\n  ORDER BY COALESCE(layer,0), way_area desc\n) AS highway_area_fill"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "highway-area-fill"
    },
    {
      "id": "roads-fill",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    (CASE WHEN feature IN ('highway_motorway_link', 'highway_trunk_link', 'highway_primary_link', 'highway_secondary_link', 'highway_tertiary_link') THEN substr(feature, 0, length(feature)-4) ELSE feature END) AS feature,\n    tracktype,\n    int_surface,\n    int_access,\n    construction,\n    service,\n    link,\n    preserved,\n    layernotnull\n  FROM ( -- subselect that contains both roads and rail/aero\n    SELECT\n        way,\n        'highway_' || (CASE WHEN highway = 'path' THEN carto_path_type(bicycle, horse) ELSE highway END) AS feature,\n        tracktype,\n        CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                              'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n             WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                              'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n        END AS int_surface,\n        carto_highway_int_access(highway, access, foot, bicycle, horse, tags->'motorcar', tags->'motor_vehicle', tags->'vehicle') AS int_access,\n        construction,\n        CASE\n          WHEN service IN ('parking_aisle', 'drive-through', 'driveway') OR leisure IN ('slipway') THEN 'INT-minor'::text\n          ELSE 'INT-normal'::text\n        END AS service,\n        CASE\n          WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link') THEN 'yes'\n          ELSE 'no'\n        END AS link,\n        NULL AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel IS NULL OR NOT tunnel IN ('yes', 'building_passage'))\n        AND (covered IS NULL OR NOT covered = 'yes')\n        AND (bridge IS NULL OR NOT bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct'))\n        AND highway IS NOT NULL -- end of road select\n    UNION ALL\n    SELECT\n        way,\n        'railway_' || (CASE\n                         WHEN (railway = 'rail' AND service IN ('spur', 'siding', 'yard')) THEN 'INT-spur-siding-yard'\n                         WHEN (railway = 'tram' AND service IN ('spur', 'siding', 'yard')) THEN 'tram-service'\n                         ELSE railway END) AS feature,\n        tracktype,\n        NULL AS int_surface,\n        NULL AS int_access,\n        construction,\n        NULL AS service,\n        NULL AS link,\n        CASE\n          WHEN tags->'railway:preserved' = 'yes' THEN 'yes'\n          ELSE 'no'\n        END AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE (tunnel IS NULL OR NOT tunnel IN ('yes', 'building_passage'))\n        AND (covered IS NULL OR NOT covered = 'yes' OR railway IN ('platform'))\n        AND (bridge IS NULL OR NOT bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct'))\n        AND (railway NOT IN ('platform') OR (tags->'location' NOT IN ('underground')) OR (tags->'location') IS NULL)\n        AND railway IS NOT NULL -- end of rail select\n    ) AS features\n  ORDER BY\n    layernotnull,\n    z_order,\n    CASE WHEN substring(feature for 8) = 'railway_' THEN 2 ELSE 1 END,\n    CASE WHEN feature IN ('railway_INT-spur-siding-yard', 'railway_tram-service') THEN 0 ELSE 1 END,\n    CASE int_access WHEN 'no' THEN 0 WHEN 'restricted' THEN 1 ELSE 2 END,\n    CASE WHEN int_surface IN ('unpaved') THEN 0 ELSE 1 END,\n    osm_id\n) AS roads_sql"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 10
      },
      "layerId": "roads-fill"
    },
    {
      "id": "turning-circle-fill",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT DISTINCT ON (p.way)\n    p.way AS way,\n    p.highway AS type,\n    l.highway AS int_tc_type,\n    CASE WHEN l.service IN ('parking_aisle', 'drive-through', 'driveway')\n      THEN 'INT-minor'::text\n      ELSE 'INT-normal'::text\n    END AS int_tc_service\n  FROM planet_osm_point p\n    JOIN planet_osm_line l\n      ON ST_DWithin(p.way, l.way, 0.1) -- Assumes Mercator\n    JOIN (VALUES\n        ('trunk', 1),\n        ('primary', 2),\n        ('secondary', 3),\n        ('tertiary', 4),\n        ('unclassified', 5),\n        ('residential', 6),\n        ('living_street', 7),\n        ('service', 8),\n        ('track', 9)\n      ) AS v (highway, prio)\n      ON v.highway = l.highway\n  WHERE p.highway IN (\n    'turning_circle',\n    'turning_loop',\n    'mini_roundabout')\n    AND l.way && !bbox!\n    AND p.way && !bbox! -- Both conditions are necessary for good index usage, even with the DWithin above\n  ORDER BY p.way, v.prio\n) AS turning_circle_sql"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "turning-circle-fill"
    },
    {
      "id": "aerialways",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    aerialway,\n    man_made,\n    tags->'substance' AS substance\n  FROM planet_osm_line\n  WHERE aerialway IS NOT NULL\n    OR (man_made = 'pipeline'\n        AND tags-> 'location' IN ('overground', 'overhead', 'surface', 'outdoor')\n        OR bridge IN ('yes', 'aqueduct', 'cantilever', 'covered', 'trestle', 'viaduct'))\n    OR (man_made = 'goods_conveyor'\n        AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n        AND (tunnel NOT IN ('yes') OR tunnel IS NULL))\n  ORDER BY\n    CASE\n      WHEN man_made IN ('goods_conveyor', 'pipeline') THEN 1\n      WHEN tags-> 'location' = 'overhead' THEN 2\n      WHEN bridge IS NOT NULL THEN 3\n      WHEN aerialway IS NOT NULL THEN 4\n    END\n) AS aerialways"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "aerialways"
    },
    {
      "id": "roads-low-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    COALESCE(\n      ('highway_' || (CASE WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link')\n                             THEN substr(highway, 0, length(highway)-4) ELSE highway end)),\n      ('railway_' || railway)\n    ) AS feature,\n    CASE WHEN tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes' THEN 'yes' ELSE 'no' END AS int_tunnel,\n    CASE WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link') THEN 'yes' ELSE 'no' END AS link,\n    CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                          'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n      WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                          'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n    END AS int_surface\n  FROM planet_osm_roads\n  WHERE highway IS NOT NULL\n    OR (railway IN ('rail', 'light_rail', 'funicular', 'narrow_gauge')\n      AND (tags->'railway:preserved' IS NULL OR tags->'railway:preserved' != 'yes')\n      AND (service IS NULL OR service NOT IN ('spur', 'siding', 'yard')))\n  ORDER BY\n    z_order\n) AS roads_low_zoom"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 6,
        "maxzoom": 9
      },
      "layerId": "roads-low-zoom"
    },
    {
      "id": "waterway-bridges",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway,\n    CASE WHEN tags->'intermittent' IN ('yes')\n      OR tags->'seasonal' IN ('yes', 'spring', 'summer', 'autumn', 'winter', 'wet_season', 'dry_season')\n      THEN 'yes' ELSE 'no' END AS int_intermittent,\n    CASE WHEN tunnel IN ('yes', 'culvert') \n      OR waterway = 'canal' AND tunnel = 'flooded'\n      THEN 'yes' ELSE 'no' END AS int_tunnel,\n    'yes' AS bridge\n  FROM planet_osm_line\n  WHERE waterway IN ('river', 'canal', 'stream', 'drain', 'ditch')\n    AND bridge IN ('yes', 'aqueduct')\n  ORDER BY COALESCE(layer,0)\n) AS waterway_bridges"
      },
      "properties": {
        "minzoom": 12
      },
      "layerId": "waterway-bridges"
    },
    {
      "id": "bridges",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    (CASE WHEN feature IN ('highway_motorway_link', 'highway_trunk_link', 'highway_primary_link', 'highway_secondary_link', 'highway_tertiary_link') THEN substr(feature, 0, length(feature)-4) ELSE feature END) AS feature,\n    tracktype,\n    int_surface,\n    int_access,\n    construction,\n    service,\n    link,\n    preserved,\n    layernotnull\n  FROM ( -- subselect that contains both roads and rail/aero\n    SELECT\n        way,\n        'highway_' || (CASE WHEN highway = 'path' THEN carto_path_type(bicycle, horse) ELSE highway END) AS feature,\n        tracktype,\n        CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                              'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n             WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                              'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n        END AS int_surface,\n        carto_highway_int_access(highway, access, foot, bicycle, horse, tags->'motorcar', tags->'motor_vehicle', tags->'vehicle') AS int_access,\n        construction,\n        CASE\n          WHEN service IN ('parking_aisle', 'drive-through', 'driveway') OR leisure IN ('slipway') THEN 'INT-minor'::text\n          ELSE 'INT-normal'::text\n        END AS service,\n        CASE\n          WHEN highway IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary_link') THEN 'yes'\n          ELSE 'no'\n        END AS link,\n        NULL AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct')\n        AND highway IS NOT NULL -- end of road select\n    UNION ALL\n    SELECT\n        way,\n        'railway_' || (CASE\n                         WHEN (railway = 'rail' AND service IN ('spur', 'siding', 'yard')) THEN 'INT-spur-siding-yard'\n                         WHEN (railway = 'tram' AND service IN ('spur', 'siding', 'yard')) THEN 'tram-service'\n                         ELSE railway END) AS feature,\n        tracktype,\n        NULL AS int_surface,\n        NULL AS int_access,\n        construction,\n        NULL AS service,\n        NULL AS link,\n        CASE\n          WHEN tags->'railway:preserved' = 'yes' THEN 'yes'\n          ELSE 'no'\n        END AS preserved,\n        COALESCE(layer,0) AS layernotnull,\n        osm_id,\n        z_order\n      FROM planet_osm_line\n      WHERE bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct')\n        AND railway IS NOT NULL -- end of rail select\n    ) AS features\n  ORDER BY\n    layernotnull,\n    z_order,\n    CASE WHEN substring(feature for 8) = 'railway_' THEN 2 ELSE 1 END,\n    CASE WHEN feature IN ('railway_INT-spur-siding-yard', 'railway_tram-service') THEN 0 ELSE 1 END,\n    CASE int_access WHEN 'no' THEN 0 WHEN 'restricted' THEN 1 ELSE 2 END,\n    CASE WHEN int_surface IN ('unpaved') THEN 0 ELSE 1 END\n) AS bridges"
      },
      "properties": {
        "cache-features": true,
        "group-by": "layernotnull",
        "minzoom": 10
      },
      "layerId": "bridges"
    },
    {
      "id": "guideways",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE highway = 'bus_guideway'\n) AS guideways"
      },
      "properties": {
        "minzoom": 11
      },
      "layerId": "guideways"
    },
    {
      "id": "roller-coaster-gap-fill",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    CASE WHEN (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes' OR tags->'indoor' = 'yes') THEN 'yes' ELSE 'no' END AS tunnel,\n    CASE WHEN (bridge = 'yes' OR bridge = 'covered' OR bridge = 'viaduct') THEN 'yes' ELSE 'no' END AS bridge\n  FROM planet_osm_line\n  WHERE tags @> 'roller_coaster=>track' AND railway IS NULL\n) AS roller_coaster"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "roller-coaster-gap-fill"
    },
    {
      "id": "roller-coaster",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    COALESCE(layer,0) AS layernotnull,\n    CASE WHEN (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes' OR tags->'indoor' = 'yes') THEN 'yes' ELSE 'no' END AS tunnel,\n    CASE WHEN (bridge = 'yes' OR bridge = 'covered' OR bridge = 'viaduct') THEN 'yes' ELSE 'no' END AS bridge\n  FROM planet_osm_line\n  WHERE tags @> 'roller_coaster=>track' AND railway IS NULL\n  ORDER BY\n    layernotnull -- put bottom layered track first\n) AS roller_coaster"
      },
      "properties": {
        "group-by": "layernotnull",
        "minzoom": 15
      },
      "layerId": "roller-coaster"
    },
    {
      "id": "entrances",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    tags->'entrance' AS entrance,\n    access\n  FROM planet_osm_point\n  WHERE (tags->'entrance') IS NOT NULL AND\n    (tags->'indoor' = 'no'\n    OR (tags->'indoor') IS NULL))\nAS entrances"
      },
      "properties": {
        "minzoom": 18
      },
      "layerId": "entrances"
    },
    {
      "id": "aeroways",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    aeroway,\n    bridge IN ('yes', 'boardwalk', 'cantilever', 'covered', 'low_water_crossing', 'movable', 'trestle', 'viaduct') AS bridge,\n    CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                          'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 'unpaved'\n      WHEN surface IN ('paved', 'asphalt', 'cobblestone', 'cobblestone:flattened', 'sett', 'concrete', 'concrete:lanes',\n                          'concrete:plates', 'paving_stones', 'metal', 'wood', 'unhewn_cobblestone') THEN 'paved'\n      ELSE NULL\n    END AS int_surface\n  FROM planet_osm_line\n  WHERE aeroway IN ('runway', 'taxiway')\n  ORDER BY\n    bridge NULLS FIRST,\n    CASE WHEN aeroway = 'runway' THEN 1 ELSE 0 END,\n    CASE WHEN surface IN ('unpaved', 'compacted', 'dirt', 'earth', 'fine_gravel', 'grass', 'grass_paver', 'gravel', 'ground',\n                          'mud', 'pebblestone', 'salt', 'sand', 'woodchips', 'clay', 'ice', 'snow') THEN 0 ELSE 1 END\n) AS aeroways"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 11
      },
      "layerId": "aeroways"
    },
    {
      "id": "golf-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, tags->'golf' AS golf\n  FROM planet_osm_line\n  WHERE tags @> 'golf=>hole'\n) AS golf_line"
      },
      "properties": {
        "minzoom": 16
      },
      "layerId": "golf-line"
    },
    {
      "id": "necountries",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM ne_110m_admin_0_boundary_lines_land\n) AS necountries"
      },
      "properties": {
        "minzoom": 1,
        "maxzoom": 3
      },
      "layerId": "necountries"
    },
    {
      "id": "admin-low-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    admin_level\n  FROM planet_osm_roads\n  WHERE boundary = 'administrative'\n    AND admin_level IN ('0', '1', '2', '3', '4')\n    AND osm_id < 0\n  ORDER BY admin_level DESC\n) AS admin_low_zoom"
      },
      "properties": {
        "minzoom": 4,
        "maxzoom": 7
      },
      "layerId": "admin-low-zoom"
    },
    {
      "id": "admin-mid-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    admin_level\n  FROM planet_osm_roads\n  WHERE boundary = 'administrative'\n    AND admin_level IN ('0', '1', '2', '3', '4', '5', '6', '7', '8')\n    AND osm_id < 0\n  ORDER BY admin_level DESC\n) AS admin_mid_zoom"
      },
      "properties": {
        "minzoom": 8,
        "maxzoom": 12
      },
      "layerId": "admin-mid-zoom"
    },
    {
      "id": "admin-high-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    admin_level\n  FROM planet_osm_roads\n  WHERE boundary = 'administrative'\n    AND admin_level IN ('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10')\n    AND osm_id < 0\n  ORDER BY admin_level::integer DESC -- With 10 as a valid value, we need to do a numeric ordering, not a text ordering\n) AS admin_high_zoom"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "admin-high-zoom"
    },
    {
      "id": "power-minorline",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE power = 'minor_line'\n) AS power_minorline"
      },
      "properties": {
        "minzoom": 16
      },
      "layerId": "power-minorline"
    },
    {
      "id": "power-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE power = 'line'\n) AS power_line"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "power-line"
    },
    {
      "id": "tourism-boundary",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    tourism\n  FROM planet_osm_polygon\n  WHERE tourism = 'theme_park'\n    OR tourism = 'zoo'\n) AS tourism_boundary"
      },
      "properties": {
        "minzoom": 10
      },
      "layerId": "tourism-boundary"
    },
    {
      "id": "protected-areas",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    boundary,\n    tags->'protect_class' AS protect_class,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE (boundary IN ('aboriginal_lands', 'national_park')\n         OR leisure = 'nature_reserve'\n         OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6')))\n    AND building IS NULL\n    AND way_area > 1*!pixel_width!::real*!pixel_height!::real\n) AS protected_areas"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 8
      },
      "layerId": "protected-areas"
    },
    {
      "id": "trees",
      "geometry": "polygon",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way, \"natural\"\n  FROM planet_osm_point\n  WHERE \"natural\" = 'tree'\nUNION ALL\nSELECT\n    way, \"natural\"\n  FROM planet_osm_line\n  WHERE \"natural\" = 'tree_row'\n) AS trees"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 16
      },
      "layerId": "trees"
    },
    {
      "id": "country-names",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    (SELECT ST_Transform(ST_PointOnSurface(geom),3857)\n      FROM ST_Dump(ST_Transform(way,4326))\n      ORDER BY ST_Area(geom::geography) DESC\n      LIMIT 1) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    name\n  FROM planet_osm_polygon\n  WHERE way && !bbox!\n    AND name IS NOT NULL\n    AND boundary = 'administrative'\n    AND admin_level = '2'\n    AND way_area > 100*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 4000000*POW(!scale_denominator!*0.001*0.28,2)\n    AND osm_id < 0\n  ORDER BY way_area DESC\n) AS country_names"
      },
      "properties": {
        "minzoom": 2
      },
      "layerId": "country-names"
    },
    {
      "id": "capital-names",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    CASE\n      WHEN (tags->'population' ~ '^[0-9]{1,8}$') THEN (tags->'population')::INTEGER ELSE 0\n    END as population,\n    round(ascii(md5(osm_id::text)) / 55) AS dir -- base direction factor on geometry to be consistent across metatiles\n  FROM planet_osm_point\n  WHERE place IN ('city', 'town', 'village', 'hamlet')\n    AND name IS NOT NULL\n    AND tags @> 'capital=>yes'\n  ORDER BY population DESC\n) AS capital_names"
      },
      "properties": {
        "minzoom": 3,
        "maxzoom": 15
      },
      "layerId": "capital-names"
    },
    {
      "id": "state-names",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    name,\n    admin_level,\n    ref\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND boundary = 'administrative'\n    AND admin_level = '4'\n    AND way_area > 3000*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 4000000*POW(!scale_denominator!*0.001*0.28,2)\n    AND osm_id < 0\n  ORDER BY way_area DESC\n) AS state_names"
      },
      "properties": {
        "minzoom": 4
      },
      "layerId": "state-names"
    },
    {
      "id": "placenames-medium",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    score,\n    CASE\n      WHEN (place = 'city') THEN 1\n      ELSE 2\n    END as category,\n    round(ascii(md5(osm_id::text)) / 55) AS dir -- base direction factor on geometry to be consistent across metatiles\n  FROM\n    (SELECT\n        osm_id,\n        way,\n        place,\n        name,\n        (\n          (CASE\n            WHEN (tags->'population' ~ '^[0-9]{1,8}$') THEN (tags->'population')::INTEGER\n            WHEN (place = 'city') THEN 100000\n            WHEN (place = 'town') THEN 1000\n            ELSE 1\n          END)\n          *\n          (CASE\n            WHEN (tags @> 'capital=>4') THEN 2\n            ELSE 1\n          END)\n        ) AS score\n      FROM planet_osm_point\n      WHERE place IN ('city', 'town')\n        AND name IS NOT NULL\n        AND NOT (tags @> 'capital=>yes')\n    ) as p\n  ORDER BY score DESC, length(name) DESC, name\n) AS placenames_medium"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 4,
        "maxzoom": 15
      },
      "layerId": "placenames-medium"
    },
    {
      "id": "placenames-small",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    place,\n    name\n  FROM planet_osm_point\n  WHERE place IN ('village', 'hamlet')\n     AND name IS NOT NULL\n     AND NOT tags @> 'capital=>yes'\n     OR (place IN ('suburb', 'quarter', 'neighbourhood', 'isolated_dwelling', 'farm')\n     ) AND name IS NOT NULL\n  ORDER BY CASE\n      WHEN place = 'suburb' THEN 7\n      WHEN place = 'village' THEN 6\n      WHEN place = 'hamlet' THEN 5\n      WHEN place = 'quarter' THEN 4\n      WHEN place = 'neighbourhood' THEN 3\n      WHEN place = 'isolated_dwelling' THEN 2\n      WHEN place = 'farm' THEN 1\n    END DESC,\n    length(name) DESC,\n    name\n) AS placenames_small"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 12
      },
      "layerId": "placenames-small"
    },
    {
      "id": "stations",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    ref,\n    railway,\n    aerialway,\n    station\n  FROM\n  (SELECT\n      ST_PointOnSurface(way) AS way,\n      name,\n      ref,\n      railway,\n      aerialway,\n      tags->'station' AS station,\n      way_area\n    FROM planet_osm_polygon\n    WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n      AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n  UNION ALL\n  SELECT\n      way,\n      name,\n      ref,\n      railway,\n      aerialway,\n      tags->'station' AS station,\n      NULL as way_area\n    FROM planet_osm_point\n    WHERE way && !bbox!\n    ) _\n  WHERE railway IN ('station', 'halt', 'tram_stop')\n    OR railway = 'subway_entrance' AND way_area IS NULL\n    OR aerialway = 'station'\n  ORDER BY\n    CASE railway\n      WHEN 'station' THEN 1\n      WHEN 'subway_entrance' THEN 3\n      ELSE 2\n    END,\n    way_area DESC NULLS LAST\n) AS stations"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 12
      },
      "layerId": "stations"
    },
    {
      "id": "junctions",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    highway,\n    junction,\n    ref,\n    name,\n    NULL AS way_pixels\n  FROM planet_osm_point\n  WHERE way && !bbox!\n    AND (highway = 'motorway_junction' OR highway = 'traffic_signals' OR junction = 'yes')\nUNION ALL\n  SELECT\n    ST_PointOnSurface(way) AS way,\n    highway,\n    junction,\n    ref,\n    name,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n    AND junction = 'yes'\n    AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY way_pixels DESC NULLS LAST\n) AS junctions"
      },
      "properties": {
        "minzoom": 11
      },
      "layerId": "junctions"
    },
    {
      "id": "bridge-text",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    man_made,\n    name\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND man_made = 'bridge'\n    AND way_area > 125*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY way_area DESC\n) AS bridge_text"
      },
      "properties": {
        "minzoom": 11
      },
      "layerId": "bridge-text"
    },
    {
      "id": "county-names",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    name,\n    admin_level\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND boundary = 'administrative'\n    AND admin_level IN ('5', '6')\n    AND way_area > 12000*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 196000*POW(!scale_denominator!*0.001*0.28,2)\n    AND osm_id < 0\n  ORDER BY\n    admin_level,\n    way_area DESC\n) AS county_names"
      },
      "properties": {
        "minzoom": 8
      },
      "layerId": "county-names"
    },
    {
      "id": "amenity-points",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    *\n  FROM\n  (SELECT -- This subselect allows filtering on the feature column\n      way,\n      CASE\n        WHEN amenity = 'parcel_locker'\n        THEN CONCAT_WS(E'\\n', COALESCE(tags->'brand', tags->'operator', name), ref)\n        ELSE\n        CONCAT(\n          name,\n          E'\\n' || CONCAT( -- by doing this with a || if both the ele and height branches are null, this entire expression is null and only name is used\n            CASE\n              WHEN (tags ? 'ele') AND tags->'ele' ~ '^-?\\d{1,4}(\\.\\d+)?$'\n                AND (\"natural\" IN ('peak', 'volcano', 'saddle')\n                  OR (tourism = 'information' AND tags->'information' = 'guidepost')\n                  OR tourism IN ('alpine_hut', 'wilderness_hut')\n                  OR (amenity = 'shelter' AND tags->'shelter_type' NOT IN ('public_transport', 'picnic_shelter'))\n                  OR tags->'mountain_pass' = 'yes')\n              THEN CONCAT(REPLACE(ROUND((tags->'ele')::NUMERIC)::TEXT, '-', U&'\\2212'), U&'\\00A0', 'm') END,\n            CASE\n              WHEN (tags ? 'height') AND tags->'height' ~ '^\\d{1,3}(\\.\\d+)?$'\n                AND waterway = 'waterfall'\n              THEN CONCAT(ROUND((tags->'height')::NUMERIC)::TEXT, U&'\\00A0', 'm') END\n            )\n          )\n        END AS name,\n      tags->'parking' as \"parking\",\n      COALESCE(\n        'aeroway_' || CASE WHEN aeroway IN ('gate', 'apron', 'helipad', 'aerodrome') THEN aeroway END,\n        'tourism_' || CASE WHEN tourism IN ('alpine_hut', 'apartment', 'artwork', 'camp_site', 'caravan_site', 'chalet', 'gallery', 'guest_house',\n                                            'hostel', 'hotel', 'motel', 'museum', 'picnic_site', 'theme_park', 'wilderness_hut',\n                                            'zoo') THEN tourism END,\n        'amenity_' || CASE WHEN amenity IN ('arts_centre', 'atm', 'bank', 'bar', 'bbq', 'bicycle_rental',\n                                            'bicycle_repair_station','biergarten', 'boat_rental', 'bureau_de_change', 'bus_station', 'cafe',\n                                            'car_rental', 'car_wash', 'casino', 'charging_station', 'childcare', 'cinema', 'clinic', 'college',\n                                            'community_centre', 'courthouse', 'dentist', 'doctors', 'drinking_water', 'driving_school',\n                                            'fast_food', 'ferry_terminal', 'fire_station', 'food_court', 'fountain', 'fuel', 'grave_yard',\n                                            'hospital', 'hunting_stand', 'ice_cream', 'internet_cafe', 'kindergarten', 'library', 'marketplace',\n                                            'nightclub', 'nursing_home', 'pharmacy', 'place_of_worship', 'police', 'post_box',\n                                            'post_office', 'prison', 'pub', 'public_bath', 'public_bookcase', 'recycling', 'restaurant', 'school',\n                                            'shelter', 'shower', 'social_facility', 'taxi', 'telephone', 'theatre', 'toilets', 'townhall',\n                                            'university', 'vehicle_inspection', 'veterinary') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('waste_disposal') AND way_area IS NOT NULL THEN amenity END, -- Waste disposal points are rendered in the low priority layer\n        'amenity_' || CASE WHEN amenity IN ('vending_machine') AND tags->'vending' IN ('excrement_bags', 'parking_tickets', 'public_transport_tickets') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parcel_locker') THEN amenity END,\n        'diplomatic_'|| CASE WHEN tags->'office' IN ('diplomatic') AND tags->'diplomatic' IN ('embassy', 'consulate') THEN tags->'diplomatic' ELSE NULL END,\n        'advertising_' || CASE WHEN tags->'advertising' in ('column') THEN tags->'advertising' END,\n        'emergency_' || CASE WHEN tags->'emergency' IN ('phone') AND way_area IS NULL THEN tags->'emergency' END,\n        'shop' || CASE WHEN shop IN ('yes', 'no', 'vacant', 'closed', 'disused', 'empty') OR shop IS NULL THEN NULL ELSE '' END,\n        'leisure_' || CASE WHEN leisure IN ('amusement_arcade', 'beach_resort', 'bird_hide', 'bowling_alley', 'dance', 'dog_park', 'firepit', 'fishing',\n                                            'fitness_centre', 'fitness_station', 'garden', 'golf_course', 'ice_rink', 'marina', 'miniature_golf',\n                                            'outdoor_seating', 'park', 'picnic_table', 'pitch', 'playground',\n                                            'sauna', 'slipway', 'sports_centre', 'stadium', 'swimming_area', 'swimming_pool', 'track', 'water_park') THEN leisure END,\n        'power_' || CASE WHEN power IN ('plant', 'generator', 'substation') THEN power END,\n        'man_made_' || CASE WHEN (man_made IN ('chimney', 'communications_tower', 'crane', 'lighthouse', 'mast', 'obelisk', 'silo', 'storage_tank',\n                                               'telescope', 'tower', 'wastewater_plant', 'water_tower', 'water_works', 'windmill', 'works')\n                                    AND (tags->'location' NOT IN ('roof', 'rooftop') OR NOT (tags ? 'location'))) THEN man_made END,\n        'landuse_' || CASE WHEN landuse IN ('reservoir', 'basin', 'recreation_ground', 'village_green', 'quarry', 'vineyard', 'orchard', 'cemetery',\n                                            'residential', 'garages', 'meadow', 'grass', 'allotments', 'forest', 'farmyard', 'farmland',\n                                            'greenhouse_horticulture', 'retail', 'industrial', 'railway', 'commercial', 'brownfield', 'landfill',\n                                            'construction', 'salt_pond', 'military', 'plant_nursery') THEN landuse END,\n        'natural_' || CASE WHEN \"natural\" IN ('peak', 'volcano', 'saddle', 'cave_entrance') AND way_area IS NULL THEN \"natural\" END,\n        'natural_' || CASE WHEN \"natural\" IN ('wood', 'water', 'mud', 'wetland', 'bay', 'spring', 'scree', 'shingle', 'bare_rock', 'sand', 'heath',\n                                              'grassland', 'scrub', 'beach', 'glacier', 'tree', 'strait', 'cape', 'reef')\n                                              THEN \"natural\" END,\n        'mountain_pass' || CASE WHEN tags->'mountain_pass' IN ('yes') THEN '' END, -- after natural=saddle to give priority to that tag on the same node\n        'waterway_' || CASE WHEN \"waterway\" IN ('waterfall') AND way_area IS NULL THEN waterway END,\n        'place_' || CASE WHEN place IN ('island', 'islet', 'square') THEN place END,\n        'historic_' || CASE WHEN historic IN ('memorial', 'monument', 'archaeological_site', 'fort', 'castle', 'manor', 'city_gate')\n                      THEN historic END,\n        'military_'|| CASE WHEN military IN ('danger_area', 'bunker') THEN military END,\n        'highway_' || CASE WHEN highway IN ('services', 'rest_area', 'bus_stop', 'elevator', 'traffic_signals') THEN highway END,\n        'highway_'|| CASE WHEN tags @> 'ford=>yes' OR tags @> 'ford=>stepping_stones' AND way_area IS NULL THEN 'ford' END,\n        'boundary_' || CASE WHEN boundary IN ('aboriginal_lands', 'national_park')\n                                  OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6'))\n                                  THEN boundary END,\n        'leisure_' || CASE WHEN leisure IN ('nature_reserve') THEN leisure END,\n        'tourism_' || CASE WHEN tourism IN ('information') AND tags->'information' IN ('audioguide', 'board', 'guidepost', 'office', 'map', 'tactile_map', 'terminal') THEN tourism END,\n        'office' || CASE WHEN tags->'office' IN ('no', 'vacant', 'closed', 'disused', 'empty') OR (tags->'office') IS NULL THEN NULL ELSE '' END,\n        'barrier_' || CASE WHEN barrier IN ('toll_booth') AND way_area IS NULL THEN barrier END,\n        'waterway_' || CASE WHEN waterway IN ('dam', 'weir', 'dock') THEN waterway END,\n        'amenity_' || CASE WHEN amenity IN ('bicycle_parking', 'motorcycle_parking') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parking') AND (tags->'parking' NOT IN ('underground') OR (tags->'parking') IS NULL) THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parking_entrance')\n                                AND tags->'parking' IN ('multi-storey', 'underground')\n                                AND (access IS NULL OR access NOT IN ('private', 'no', 'customers', 'permit', 'delivery'))\n                                AND way_area IS NULL\n                           THEN amenity END,\n        'tourism_' || CASE WHEN tourism IN ('viewpoint', 'attraction') THEN tourism END,\n        'place_' || CASE WHEN place IN ('locality') AND way_area IS NULL THEN place END,\n        'golf_' || CASE WHEN tags->'golf' IN ('pin') THEN tags->'golf' END\n      ) AS feature,\n      CASE WHEN access IN ('private', 'no', 'customers', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END AS int_access,\n      CASE\n        WHEN \"natural\" IN ('peak', 'volcano', 'saddle') \n             OR tags->'mountain_pass' = 'yes' THEN\n          CASE\n            WHEN tags->'ele' ~ '^-?\\d{1,4}(\\.\\d+)?$' THEN (tags->'ele')::NUMERIC\n          END\n        WHEN \"waterway\" IN ('waterfall') THEN\n          CASE\n            WHEN tags->'height' ~ '^\\d{1,3}(\\.\\d+)?( m)?$' THEN (SUBSTRING(tags->'height', '^(\\d{1,3}(\\.\\d+)?)( m)?$'))::NUMERIC\n          END\n      END AS score,\n      religion,\n      tags->'denomination' as denomination,\n      tags->'generator:source' as \"generator:source\",\n      CASE\n        WHEN (man_made IN ('mast', 'tower', 'chimney', 'crane') AND (tags->'location' NOT IN ('roof', 'rooftop') OR (tags->'location') IS NULL))\n              OR waterway IN ('waterfall') THEN\n          CASE\n            WHEN tags->'height' ~ '^\\d{1,3}(\\.\\d+)?( m)?$' THEN (SUBSTRING(tags->'height', '^(\\d{1,3}(\\.\\d+)?)( m)?$'))::NUMERIC\n          END\n      END AS height,\n      tags->'location' as location,\n      tags->'icao' as icao,\n      tags->'iata' as iata,\n      tags->'office' as office,\n      tags->'recycling_type' as recycling_type,\n      tags->'tower:construction' as \"tower:construction\",\n      tags->'tower:type' as \"tower:type\",\n      tags->'telescope:type' as \"telescope:type\",\n      CASE\n        WHEN man_made IN ('telescope') THEN\n          CASE\n            WHEN tags->'telescope:diameter' ~ '^-?\\d{1,4}(\\.\\d+)?$' THEN (tags->'telescope:diameter')::NUMERIC\n          END\n      END AS \"telescope:diameter\",\n      tags->'castle_type' as castle_type,\n      tags->'sport' as sport,\n      tags->'information' as information,\n      tags->'memorial' as memorial,\n      tags->'artwork_type' as artwork_type,\n      tags->'vending' as vending,\n      CASE WHEN shop IN ('supermarket', 'bag', 'bakery', 'beauty', 'bed', 'bookmaker', 'books', 'butcher', 'carpet', 'clothes', 'computer',\n                        'confectionery', 'fashion', 'convenience', 'department_store', 'doityourself', 'hardware', 'fabric', 'fishmonger', 'florist',\n                        'garden_centre', 'hairdresser', 'hifi', 'car', 'car_repair', 'bicycle', 'mall', 'pet',\n                        'photo', 'photo_studio', 'photography', 'seafood', 'shoes', 'alcohol', 'gift', 'furniture', 'kiosk',\n                        'mobile_phone', 'motorcycle', 'musical_instrument', 'newsagent', 'optician', 'jewelry',\n                        'electronics', 'chemist', 'toys', 'travel_agency', 'car_parts', 'greengrocer', 'farm', 'stationery',\n                        'laundry', 'dry_cleaning', 'beverages', 'perfumery', 'cosmetics', 'variety_store', 'wine', 'outdoor',\n                        'copyshop', 'sports', 'deli', 'tobacco', 'art', 'tea', 'coffee', 'tyres', 'pastry', 'chocolate',\n                        'music', 'medical_supply', 'dairy', 'video_games', 'houseware', 'ticket', 'charity', 'second_hand',\n                        'interior_decoration', 'video', 'paint', 'massage', 'trade', 'wholesale', 'hearing_aids') THEN shop\n                        ELSE 'other' END AS shop,\n      CASE WHEN building = 'no' OR building IS NULL THEN 'no' ELSE 'yes' END AS is_building,\n      tags->'operator' AS operator,\n      ref,\n      way_area,\n      COALESCE(way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0), 0) AS way_pixels\n    FROM\n      (SELECT\n          ST_PointOnSurface(way) AS way,\n          name,\n          access,\n          aeroway,\n          amenity,\n          barrier,\n          boundary,\n          building,\n          highway,\n          historic,\n          landuse,\n          leisure,\n          man_made,\n          military,\n          \"natural\",\n          place,\n          power,\n          ref,\n          religion,\n          shop,\n          tourism,\n          waterway,\n          tags,\n          way_area\n        FROM planet_osm_polygon\n        WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n          AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n      UNION ALL\n      SELECT\n          way,\n          name,\n          access,\n          aeroway,\n          amenity,\n          barrier,\n          boundary,\n          building,\n          highway,\n          historic,\n          landuse,\n          leisure,\n          man_made,\n          military,\n          \"natural\",\n          place,\n          power,\n          ref,\n          religion,\n          shop,\n          tourism,\n          waterway,\n          tags,\n          NULL AS way_area\n        FROM planet_osm_point\n        WHERE way && !bbox!\n      ) _\n    ) AS features\n  WHERE feature IS NOT NULL\n  ORDER BY score DESC NULLS LAST,\n    way_pixels DESC NULLS LAST\n  ) AS amenity_points"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 10
      },
      "layerId": "amenity-points"
    },
    {
      "id": "amenity-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n  way,\n  COALESCE(\n   'highway_' || CASE WHEN tags @> 'ford=>yes' OR tags @> 'ford=>stepping_stones' THEN 'ford' END,\n   'leisure_' || CASE WHEN leisure IN ('slipway', 'track') THEN leisure END,\n   'attraction_' || CASE WHEN tags @> 'attraction=>water_slide' THEN 'water_slide' END\n    ) AS feature\n  FROM planet_osm_line\n  -- The upcoming where clause is needed for performance only, as the CASE statements would end up doing the equivalent filtering\n  WHERE tags @> 'ford=>yes' OR tags @> 'ford=>stepping_stones'\n    OR leisure IN ('slipway', 'track')\n    OR tags @> 'attraction=>water_slide'\n  ORDER BY COALESCE(layer,0)\n) AS amenity_line"
      },
      "properties": {
        "minzoom": 16
      },
      "layerId": "amenity-line"
    },
    {
      "id": "power-towers",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    power\nFROM planet_osm_point\nWHERE power IN ('tower', 'pole')\nORDER BY\n  CASE power\n    WHEN 'tower' THEN 2\n    WHEN 'pole' THEN 1\n  END DESC\n) AS power_towers"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "power-towers"
    },
    {
      "id": "roads-text-ref-low-zoom",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    highway,\n    height,\n    width,\n    refs\n  FROM (\n    SELECT\n        way,\n        osm_id,\n        highway,\n        array_length(refs,1) AS height,\n        (SELECT MAX(char_length(ref)) FROM unnest(refs) AS u(ref)) AS width,\n        array_to_string(refs, E'\\n') AS refs\n      FROM (\n        SELECT\n            way,\n            osm_id,\n            highway,\n            string_to_array(ref, ';') AS refs\n        FROM planet_osm_roads\n          WHERE highway IN ('motorway', 'trunk', 'primary', 'secondary')\n          AND ref IS NOT NULL\n      ) AS p) AS q\n  WHERE height <= 4 AND width <= 11\n  ORDER BY\n    CASE\n      WHEN highway = 'motorway' THEN 38\n      WHEN highway = 'trunk' THEN 37\n      WHEN highway = 'primary' THEN 36\n      WHEN highway = 'secondary' THEN 35\n    END DESC NULLS LAST,\n    height DESC,\n    width DESC,\n    refs,\n    osm_id\n) AS roads_text_ref_low_zoom"
      },
      "properties": {
        "minzoom": 10,
        "maxzoom": 12
      },
      "layerId": "roads-text-ref-low-zoom"
    },
    {
      "id": "roads-text-ref",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    highway,\n    height,\n    width,\n    refs\n  FROM (\n    SELECT\n        osm_id,\n        way,\n        highway,\n        array_length(refs,1) AS height,\n        (SELECT MAX(char_length(ref)) FROM unnest(refs) AS u(ref)) AS width,\n        array_to_string(refs, E'\\n') AS refs\n      FROM (\n        SELECT\n            osm_id,\n            way,\n            COALESCE(\n              CASE WHEN highway IN ('motorway', 'trunk', 'primary', 'secondary', 'tertiary') THEN highway END,\n              CASE WHEN aeroway IN ('runway', 'taxiway') THEN aeroway END\n            ) AS highway,\n            string_to_array(ref, ';') AS refs\n          FROM planet_osm_line\n          WHERE (highway IN ('motorway', 'trunk', 'primary', 'secondary', 'tertiary') OR aeroway IN ('runway', 'taxiway'))\n            AND ref IS NOT NULL\n      ) AS p) AS q\n  WHERE height <= 4 AND width <= 11\n  ORDER BY\n    CASE\n      WHEN highway = 'motorway' THEN 38\n      WHEN highway = 'trunk' THEN 37\n      WHEN highway = 'primary' THEN 36\n      WHEN highway = 'secondary' THEN 35\n      WHEN highway = 'tertiary' THEN 34\n      WHEN highway = 'runway' THEN 6\n      WHEN highway = 'taxiway' THEN 5\n    END DESC NULLS LAST,\n    height DESC,\n    width DESC,\n    refs,\n    osm_id\n) AS roads_text_ref"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "roads-text-ref"
    },
    {
      "id": "roads-area-text-name",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    highway,\n    name\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND (highway IN ('pedestrian', 'footway', 'service', 'living_street', 'platform')\n      OR (railway IN ('platform')\n          AND (tags->'location' NOT IN ('underground') OR (tags->'location') IS NULL)\n          AND (tunnel NOT IN ('yes', 'building_passage') OR tunnel IS NULL)\n          AND (covered NOT IN ('yes') OR covered IS NULL)))\n    AND way_area > 3000*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY way_area DESC\n) AS roads_area_text_name"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "roads-area-text-name"
    },
    {
      "id": "roads-text-name",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    CASE WHEN substr(highway, length(highway)-4, 5) = '_link' THEN substr(highway, 0, length(highway)-4) ELSE highway END,\n    CASE WHEN (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes') THEN 'yes' ELSE 'no' END AS tunnel,\n    construction,\n    name,\n    CASE\n      WHEN oneway IN ('yes', '-1') THEN oneway\n      WHEN junction IN ('roundabout') AND (oneway IS NULL OR NOT oneway IN ('no', 'reversible')) THEN 'yes'\n    END AS oneway\n  FROM planet_osm_line l\n  WHERE highway IN ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary', 'secondary_link', 'tertiary',\n                    'tertiary_link', 'residential', 'unclassified', 'road', 'service', 'pedestrian', 'raceway', 'living_street', 'construction')\n    AND (name IS NOT NULL\n      OR oneway IN ('yes', '-1')\n      OR junction IN ('roundabout'))\n  ORDER BY\n    z_order DESC, -- put important roads first\n    COALESCE(layer, 0), -- put top layered roads first\n    length(name) DESC, -- Try to fit big labels in first\n    name DESC, -- Force a consistent ordering between differently named streets\n    l.osm_id DESC -- Force an ordering for streets of the same name, e.g. dualized roads\n) AS roads_text_name"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 13
      },
      "layerId": "roads-text-name"
    },
    {
      "id": "paths-text-name",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    CASE WHEN highway = 'path' THEN carto_path_type(bicycle, horse) ELSE highway END AS highway,\n    construction,\n    name,\n    CASE\n      WHEN oneway IN ('yes', '-1') THEN oneway\n      WHEN junction IN ('roundabout') AND (oneway IS NULL OR NOT oneway IN ('no', 'reversible')) THEN 'yes'\n    END AS oneway\n  FROM planet_osm_line\n  WHERE highway IN ('bridleway', 'footway', 'cycleway', 'path', 'track', 'steps', 'construction')\n    AND (name IS NOT NULL\n      OR oneway IN ('yes', '-1')\n      OR junction IN ('roundabout'))\n) AS paths_text_name"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 15
      },
      "layerId": "paths-text-name"
    },
    {
      "id": "railways-text-name",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    CASE\n      WHEN (railway = 'rail' AND service IN ('spur', 'siding', 'yard')) THEN 'INT-spur-siding-yard'\n      WHEN (railway = 'tram' AND service IN ('spur', 'siding', 'yard')) THEN 'tram-service'\n      ELSE railway\n    END AS railway,\n    CASE WHEN (tunnel = 'yes' OR tunnel = 'building_passage' OR covered = 'yes') THEN 'yes' ELSE 'no' END AS tunnel,\n    tags->'highspeed' as highspeed,\n    tags->'usage' as usage,\n    construction,\n    name,\n    (CASE\n      WHEN tags->'railway:preserved' = 'yes' THEN 'yes'\n      ELSE 'no'\n    END) AS preserved\n  FROM planet_osm_line l\n  WHERE railway IN ('rail', 'subway', 'narrow_gauge', 'light_rail', 'funicular', 'monorail', 'miniature', 'tram', 'disused', 'construction')\n    AND (tunnel IS NULL OR NOT tunnel IN ('yes', 'building_passage'))\n    AND highway IS NULL -- Prevent duplicate rendering\n    AND name IS NOT NULL\n  ORDER BY\n    z_order DESC, -- put important rails first\n    COALESCE(layer, 0), -- put top layered rails first\n    length(name) DESC, -- Try to fit big labels in first\n    name DESC, -- Force a consistent ordering between differently named railways\n    l.osm_id DESC -- Force an ordering for railways of the same name, e.g. dualized rails\n) AS railways_text_name"
      },
      "properties": {
        "minzoom": 11
      },
      "layerId": "railways-text-name"
    },
    {
      "id": "roads-text-ref-minor",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    highway,\n    height,\n    width,\n    refs\n  FROM (\n    SELECT\n        osm_id,\n        way,\n        highway,\n        array_length(refs,1) AS height,\n        (SELECT MAX(char_length(ref)) FROM unnest(refs) AS u(ref)) AS width,\n        array_to_string(refs, E'\\n') AS refs\n      FROM (\n        SELECT\n            osm_id,\n            way,\n            CASE WHEN highway IN ('unclassified', 'residential', 'track') THEN highway END AS highway,\n            string_to_array(ref, ';') AS refs\n          FROM planet_osm_line\n          WHERE highway IN ('unclassified', 'residential', 'track')\n            AND ref IS NOT NULL\n      ) AS p) AS q\n  WHERE height <= 4 AND width <= 11\n  ORDER BY\n    CASE\n      WHEN highway = 'unclassified' THEN 33\n      WHEN highway = 'residential' THEN 32\n      WHEN highway = 'track' THEN 30\n    END DESC NULLS LAST,\n    height DESC,\n    width DESC,\n    refs,\n    osm_id\n) AS roads_text_ref_minor"
      },
      "properties": {
        "minzoom": 15
      },
      "layerId": "roads-text-ref-minor"
    },
    {
      "id": "text-poly-low-zoom",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels,\n    COALESCE(\n      'landuse_' || CASE WHEN landuse IN ('forest', 'military', 'farmland') THEN landuse END,\n      'military_' || CASE WHEN military IN ('danger_area') THEN military END,\n      'natural_' || CASE WHEN \"natural\" IN ('wood', 'glacier', 'sand', 'scree', 'shingle', 'bare_rock', 'water') THEN \"natural\" END,\n      'place_' || CASE WHEN place IN ('island') THEN place END,\n      'boundary_' || CASE WHEN boundary IN ('aboriginal_lands', 'national_park')\n                               OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6'))\n                               THEN boundary END,\n      'leisure_' || CASE WHEN leisure IN ('nature_reserve') THEN leisure END\n    ) AS feature,\n    name,\n    CASE WHEN building = 'no' OR building IS NULL THEN 'no' ELSE 'yes' END AS is_building -- always no with the where conditions\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND (landuse IN ('forest', 'military', 'farmland')\n      OR military IN ('danger_area')\n      OR \"natural\" IN ('wood', 'glacier', 'sand', 'scree', 'shingle', 'bare_rock', 'water')\n      OR \"place\" IN ('island')\n      OR boundary IN ('aboriginal_lands', 'national_park')\n      OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6'))\n      OR leisure IN ('nature_reserve'))\n    AND building IS NULL\n    AND way_area > 100*POW(!scale_denominator!*0.001*0.28,2)\n    AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY way_area DESC\n) AS text_poly_low_zoom"
      },
      "properties": {
        "minzoom": 4,
        "maxzoom": 9
      },
      "layerId": "text-poly-low-zoom"
    },
    {
      "id": "text-line",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n  way,\n    NULL as way_pixels,\n    COALESCE('aerialway_' || aerialway, 'attraction_' || CASE WHEN tags @> 'attraction=>water_slide' THEN 'water_slide' END, 'leisure_' || leisure, 'man_made_' || man_made, 'waterway_' || waterway, 'natural_' || \"natural\", 'golf_' || (tags->'golf')) AS feature,\n    access,\n    name,\n    tags->'operator' as operator,\n    ref,\n    NULL AS way_area,\n    CASE WHEN building = 'no' OR building IS NULL THEN 'no' ELSE 'yes' END AS is_building\n  FROM planet_osm_line\n  WHERE ((man_made IN ('pier', 'breakwater', 'groyne', 'embankment')\n      OR (man_made = 'pipeline'\n         AND tags-> 'location' IN ('overground', 'overhead', 'surface', 'outdoor')\n         OR bridge IN ('yes', 'aqueduct', 'cantilever', 'covered', 'trestle', 'viaduct'))\n      OR tags @> 'attraction=>water_slide'\n      OR aerialway IN ('cable_car', 'gondola', 'mixed_lift', 'goods', 'chair_lift', 'drag_lift', 't-bar', 'j-bar', 'platter', 'rope_tow', 'zip_line')\n      OR leisure IN ('slipway', 'track')\n      OR waterway IN ('dam', 'weir')\n      OR \"natural\" IN ('arete', 'cliff', 'ridge'))\n    AND name IS NOT NULL)\n    OR (tags @> 'golf=>hole' AND ref IS NOT NULL)\n) AS text_line"
      },
      "properties": {
        "minzoom": 10
      },
      "layerId": "text-line"
    },
    {
      "id": "text-point",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    *\n  FROM\n  (SELECT -- This subselect allows filtering on the feature column\n      way,\n      CASE\n        WHEN amenity = 'parcel_locker'\n        THEN CONCAT_WS(E'\\n', COALESCE(tags->'brand', tags->'operator', name), ref)\n        ELSE\n        CONCAT(\n          name,\n          E'\\n' || CONCAT( -- by doing this with a || if both the ele and height branches are null, this entire expression is null and only name is used\n            CASE\n              WHEN (tags ? 'ele') AND tags->'ele' ~ '^-?\\d{1,4}(\\.\\d+)?$'\n                AND (\"natural\" IN ('peak', 'volcano', 'saddle')\n                  OR (tourism = 'information' AND tags->'information' = 'guidepost')\n                  OR tourism IN ('alpine_hut', 'wilderness_hut')\n                  OR (amenity = 'shelter' AND tags->'shelter_type' NOT IN ('public_transport', 'picnic_shelter'))\n                  OR tags->'mountain_pass' = 'yes')\n              THEN CONCAT(REPLACE(ROUND((tags->'ele')::NUMERIC)::TEXT, '-', U&'\\2212'), U&'\\00A0', 'm') END,\n            CASE\n              WHEN (tags ? 'height') AND tags->'height' ~ '^\\d{1,3}(\\.\\d+)?$'\n                AND waterway = 'waterfall'\n              THEN CONCAT(ROUND((tags->'height')::NUMERIC)::TEXT, U&'\\00A0', 'm') END\n            )\n          )\n        END AS name,\n      tags->'parking' as \"parking\",\n      COALESCE(\n        'aeroway_' || CASE WHEN aeroway IN ('gate', 'apron', 'helipad', 'aerodrome') THEN aeroway END,\n        'tourism_' || CASE WHEN tourism IN ('alpine_hut', 'apartment', 'artwork', 'camp_site', 'caravan_site', 'chalet', 'gallery', 'guest_house',\n                                            'hostel', 'hotel', 'motel', 'museum', 'picnic_site', 'theme_park', 'wilderness_hut',\n                                            'zoo') THEN tourism END,\n        'amenity_' || CASE WHEN amenity IN ('arts_centre', 'atm', 'bank', 'bar', 'bbq', 'bicycle_rental',\n                                            'bicycle_repair_station','biergarten', 'boat_rental', 'bureau_de_change', 'bus_station', 'cafe',\n                                            'car_rental', 'car_wash', 'casino', 'charging_station', 'childcare', 'cinema', 'clinic', 'college',\n                                            'community_centre', 'courthouse', 'dentist', 'doctors', 'drinking_water', 'driving_school',\n                                            'fast_food', 'ferry_terminal', 'fire_station', 'food_court', 'fountain', 'fuel', 'grave_yard',\n                                            'hospital', 'hunting_stand', 'ice_cream', 'internet_cafe', 'kindergarten', 'library', 'marketplace',\n                                            'nightclub', 'nursing_home', 'pharmacy', 'place_of_worship', 'police', 'post_box',\n                                            'post_office', 'prison', 'pub', 'public_bath', 'public_bookcase', 'recycling', 'restaurant', 'school',\n                                            'shelter', 'shower', 'social_facility', 'taxi', 'telephone', 'theatre', 'toilets', 'townhall',\n                                            'university', 'vehicle_inspection', 'veterinary') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('waste_disposal') AND way_area IS NOT NULL THEN amenity END, -- Waste disposal points are rendered in the low priority layer\n        'amenity_' || CASE WHEN amenity IN ('vending_machine') AND tags->'vending' IN ('excrement_bags', 'parking_tickets', 'public_transport_tickets') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parcel_locker') THEN amenity END,\n        'diplomatic_'|| CASE WHEN tags->'office' IN ('diplomatic') AND tags->'diplomatic' IN ('embassy', 'consulate') THEN tags->'diplomatic' ELSE NULL END,\n        'advertising_' || CASE WHEN tags->'advertising' in ('column') THEN tags->'advertising' END,\n        'emergency_' || CASE WHEN tags->'emergency' IN ('phone') AND way_area IS NULL THEN tags->'emergency' END,\n        'shop' || CASE WHEN shop IN ('yes', 'no', 'vacant', 'closed', 'disused', 'empty') OR shop IS NULL THEN NULL ELSE '' END,\n        'leisure_' || CASE WHEN leisure IN ('amusement_arcade', 'beach_resort', 'bird_hide', 'bowling_alley', 'dance', 'dog_park', 'firepit', 'fishing',\n                                            'fitness_centre', 'fitness_station', 'garden', 'golf_course', 'ice_rink', 'marina', 'miniature_golf',\n                                            'outdoor_seating', 'park', 'picnic_table', 'pitch', 'playground',\n                                            'sauna', 'slipway', 'sports_centre', 'stadium', 'swimming_area', 'swimming_pool', 'track', 'water_park') THEN leisure END,\n        'power_' || CASE WHEN power IN ('plant', 'generator', 'substation') THEN power END,\n        'man_made_' || CASE WHEN (man_made IN ('chimney', 'communications_tower', 'crane', 'lighthouse', 'mast', 'obelisk', 'silo', 'storage_tank',\n                                               'telescope', 'tower', 'wastewater_plant', 'water_tower', 'water_works', 'windmill', 'works')\n                                    AND (tags->'location' NOT IN ('roof', 'rooftop') OR NOT (tags ? 'location'))) THEN man_made END,\n        'landuse_' || CASE WHEN landuse IN ('reservoir', 'basin', 'recreation_ground', 'village_green', 'quarry', 'vineyard', 'orchard', 'cemetery',\n                                            'residential', 'garages', 'meadow', 'grass', 'allotments', 'forest', 'farmyard', 'farmland',\n                                            'greenhouse_horticulture', 'retail', 'industrial', 'railway', 'commercial', 'brownfield', 'landfill',\n                                            'construction', 'salt_pond', 'military', 'plant_nursery') THEN landuse END,\n        'natural_' || CASE WHEN \"natural\" IN ('peak', 'volcano', 'saddle', 'cave_entrance') AND way_area IS NULL THEN \"natural\" END,\n        'natural_' || CASE WHEN \"natural\" IN ('wood', 'water', 'mud', 'wetland', 'bay', 'spring', 'scree', 'shingle', 'bare_rock', 'sand', 'heath',\n                                              'grassland', 'scrub', 'beach', 'glacier', 'tree', 'strait', 'cape', 'reef')\n                                              THEN \"natural\" END,\n        'mountain_pass' || CASE WHEN tags->'mountain_pass' IN ('yes') THEN '' END, -- after natural=saddle to give priority to that tag on the same node\n        'waterway_' || CASE WHEN \"waterway\" IN ('waterfall') AND way_area IS NULL THEN waterway END,\n        'place_' || CASE WHEN place IN ('island', 'islet', 'square') THEN place END,\n        'historic_' || CASE WHEN historic IN ('memorial', 'monument', 'archaeological_site', 'fort', 'castle', 'manor', 'city_gate')\n                      THEN historic END,\n        'military_'|| CASE WHEN military IN ('danger_area', 'bunker') THEN military END,\n        'highway_' || CASE WHEN highway IN ('services', 'rest_area', 'bus_stop', 'elevator', 'traffic_signals') THEN highway END,\n        'highway_'|| CASE WHEN tags @> 'ford=>yes' OR tags @> 'ford=>stepping_stones' AND way_area IS NULL THEN 'ford' END,\n        'boundary_' || CASE WHEN boundary IN ('aboriginal_lands', 'national_park')\n                                  OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6'))\n                                  THEN boundary END,\n        'leisure_' || CASE WHEN leisure IN ('nature_reserve') THEN leisure END,\n        'tourism_' || CASE WHEN tourism IN ('information') AND tags->'information' IN ('audioguide', 'board', 'guidepost', 'office', 'map', 'tactile_map', 'terminal') THEN tourism END,\n        'office' || CASE WHEN tags->'office' IN ('no', 'vacant', 'closed', 'disused', 'empty') OR (tags->'office') IS NULL THEN NULL ELSE '' END,\n        'barrier_' || CASE WHEN barrier IN ('toll_booth') AND way_area IS NULL THEN barrier END,\n        'waterway_' || CASE WHEN waterway IN ('dam', 'weir', 'dock') THEN waterway END,\n        'amenity_' || CASE WHEN amenity IN ('bicycle_parking', 'motorcycle_parking') THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parking') AND (tags->'parking' NOT IN ('underground') OR (tags->'parking') IS NULL) THEN amenity END,\n        'amenity_' || CASE WHEN amenity IN ('parking_entrance')\n                                AND tags->'parking' IN ('multi-storey', 'underground')\n                                AND (access IS NULL OR access NOT IN ('private', 'no', 'customers', 'permit', 'delivery'))\n                                AND way_area IS NULL\n                           THEN amenity END,\n        'tourism_' || CASE WHEN tourism IN ('viewpoint', 'attraction') THEN tourism END,\n        'place_' || CASE WHEN place IN ('locality') AND way_area IS NULL THEN place END,\n        'golf_' || CASE WHEN tags->'golf' IN ('pin') THEN tags->'golf' END\n      ) AS feature,\n      CASE WHEN access IN ('private', 'no', 'customers', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END AS int_access,\n      CASE\n        WHEN \"natural\" IN ('peak', 'volcano', 'saddle') \n             OR tags->'mountain_pass' = 'yes' THEN\n          CASE\n            WHEN tags->'ele' ~ '^-?\\d{1,4}(\\.\\d+)?$' THEN (tags->'ele')::NUMERIC\n          END\n        WHEN \"waterway\" IN ('waterfall') THEN\n          CASE\n            WHEN tags->'height' ~ '^\\d{1,3}(\\.\\d+)?( m)?$' THEN (SUBSTRING(tags->'height', '^(\\d{1,3}(\\.\\d+)?)( m)?$'))::NUMERIC\n          END\n      END AS score,\n      religion,\n      tags->'denomination' as denomination,\n      tags->'generator:source' as \"generator:source\",\n      CASE\n        WHEN (man_made IN ('mast', 'tower', 'chimney', 'crane') AND (tags->'location' NOT IN ('roof', 'rooftop') OR (tags->'location') IS NULL))\n              OR waterway IN ('waterfall') THEN\n          CASE\n            WHEN tags->'height' ~ '^\\d{1,3}(\\.\\d+)?( m)?$' THEN (SUBSTRING(tags->'height', '^(\\d{1,3}(\\.\\d+)?)( m)?$'))::NUMERIC\n          END\n      END AS height,\n      tags->'location' as location,\n      tags->'icao' as icao,\n      tags->'iata' as iata,\n      tags->'office' as office,\n      tags->'recycling_type' as recycling_type,\n      tags->'tower:construction' as \"tower:construction\",\n      tags->'tower:type' as \"tower:type\",\n      tags->'telescope:type' as \"telescope:type\",\n      CASE\n        WHEN man_made IN ('telescope') THEN\n          CASE\n            WHEN tags->'telescope:diameter' ~ '^-?\\d{1,4}(\\.\\d+)?$' THEN (tags->'telescope:diameter')::NUMERIC\n          END\n      END AS \"telescope:diameter\",\n      tags->'castle_type' as castle_type,\n      tags->'sport' as sport,\n      tags->'information' as information,\n      tags->'memorial' as memorial,\n      tags->'artwork_type' as artwork_type,\n      tags->'vending' as vending,\n      CASE WHEN shop IN ('supermarket', 'bag', 'bakery', 'beauty', 'bed', 'bookmaker', 'books', 'butcher', 'carpet', 'clothes', 'computer',\n                        'confectionery', 'fashion', 'convenience', 'department_store', 'doityourself', 'hardware', 'fabric', 'fishmonger', 'florist',\n                        'garden_centre', 'hairdresser', 'hifi', 'car', 'car_repair', 'bicycle', 'mall', 'pet',\n                        'photo', 'photo_studio', 'photography', 'seafood', 'shoes', 'alcohol', 'gift', 'furniture', 'kiosk',\n                        'mobile_phone', 'motorcycle', 'musical_instrument', 'newsagent', 'optician', 'jewelry',\n                        'electronics', 'chemist', 'toys', 'travel_agency', 'car_parts', 'greengrocer', 'farm', 'stationery',\n                        'laundry', 'dry_cleaning', 'beverages', 'perfumery', 'cosmetics', 'variety_store', 'wine', 'outdoor',\n                        'copyshop', 'sports', 'deli', 'tobacco', 'art', 'tea', 'coffee', 'tyres', 'pastry', 'chocolate',\n                        'music', 'medical_supply', 'dairy', 'video_games', 'houseware', 'ticket', 'charity', 'second_hand',\n                        'interior_decoration', 'video', 'paint', 'massage', 'trade', 'wholesale', 'hearing_aids') THEN shop\n                        ELSE 'other' END AS shop,\n      CASE WHEN building = 'no' OR building IS NULL THEN 'no' ELSE 'yes' END AS is_building,\n      tags->'operator' AS operator,\n      ref,\n      way_area,\n      COALESCE(way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0), 0) AS way_pixels\n    FROM\n      (SELECT\n          ST_PointOnSurface(way) AS way,\n          name,\n          access,\n          aeroway,\n          amenity,\n          barrier,\n          boundary,\n          building,\n          highway,\n          historic,\n          landuse,\n          leisure,\n          man_made,\n          military,\n          \"natural\",\n          place,\n          power,\n          ref,\n          religion,\n          shop,\n          tourism,\n          waterway,\n          tags,\n          way_area\n        FROM planet_osm_polygon\n        WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n          AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n      UNION ALL\n      SELECT\n          way,\n          name,\n          access,\n          aeroway,\n          amenity,\n          barrier,\n          boundary,\n          building,\n          highway,\n          historic,\n          landuse,\n          leisure,\n          man_made,\n          military,\n          \"natural\",\n          place,\n          power,\n          ref,\n          religion,\n          shop,\n          tourism,\n          waterway,\n          tags,\n          NULL AS way_area\n        FROM planet_osm_point\n        WHERE way && !bbox!\n      ) _\n    ) AS features\n  WHERE feature IS NOT NULL\n  ORDER BY score DESC NULLS LAST,\n    way_pixels DESC NULLS LAST\n  ) AS amenity_points"
      },
      "properties": {
        "minzoom": 10
      },
      "layerId": "text-point"
    },
    {
      "id": "building-text",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    name,\n    ST_PointOnSurface(way) AS way,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE ST_PointOnSurface(way) && !bbox!\n    AND name IS NOT NULL\n    AND building IS NOT NULL\n    AND building NOT IN ('no')\n    AND way_area < 4000000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY way_area DESC\n) AS building_text"
      },
      "properties": {
        "minzoom": 14
      },
      "layerId": "building-text"
    },
    {
      "id": "interpolation",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way\n  FROM planet_osm_line\n  WHERE \"addr:interpolation\" IS NOT NULL\n) AS interpolation"
      },
      "properties": {
        "minzoom": 17
      },
      "layerId": "interpolation"
    },
    {
      "id": "addresses",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    ST_PointOnSurface(way) AS way,\n    \"addr:housenumber\" AS addr_housenumber,\n    \"addr:housename\" AS addr_housename,\n    tags->'addr:unit' AS addr_unit,\n    tags->'addr:flats' AS addr_flats,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n    AND ((\"addr:housenumber\" IS NOT NULL) OR (\"addr:housename\" IS NOT NULL) OR ((tags->'addr:unit') IS NOT NULL) OR ((tags->'addr:flats') IS NOT NULL))\n    AND building IS NOT NULL\n    AND way_area < 4000000*POW(!scale_denominator!*0.001*0.28,2)\nUNION ALL\nSELECT\n    way,\n    \"addr:housenumber\" AS addr_housenumber,\n    \"addr:housename\" AS addr_housename,\n    tags->'addr:unit' AS addr_unit,\n    tags->'addr:flats' AS addr_flats,\n    NULL AS way_pixels\n  FROM planet_osm_point\n  WHERE way && !bbox!\n    AND ((\"addr:housenumber\" IS NOT NULL) OR (\"addr:housename\" IS NOT NULL) OR ((tags->'addr:unit') IS NOT NULL) OR ((tags->'addr:flats') IS NOT NULL))\n  ORDER BY way_pixels DESC NULLS LAST\n) AS addresses"
      },
      "properties": {
        "minzoom": 17
      },
      "layerId": "addresses"
    },
    {
      "id": "water-lines-text",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    waterway,\n    lock,\n    name,\n    \"natural\",\n    tags->'lock_name' AS lock_name,\n    CASE WHEN tags->'intermittent' IN ('yes')\n      OR tags->'seasonal' IN ('yes', 'spring', 'summer', 'autumn', 'winter', 'wet_season', 'dry_season')\n      THEN 'yes' ELSE 'no' END AS int_intermittent,\n    CASE WHEN tunnel IN ('yes', 'culvert') \n      OR waterway = 'canal' AND tunnel = 'flooded'\n      THEN 'yes' ELSE 'no' END AS int_tunnel\n  FROM planet_osm_line\n  WHERE (waterway IN ('river', 'canal', 'stream', 'drain', 'ditch')\n         OR \"natural\" IN ('bay', 'strait'))\n    AND (tunnel IS NULL OR tunnel != 'culvert')\n    AND name IS NOT NULL\n  ORDER BY COALESCE(layer,0)\n) AS water_lines_text"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "water-lines-text"
    },
    {
      "id": "ferry-routes-text",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name\n  FROM planet_osm_line\n  WHERE route = 'ferry'\n    AND osm_id > 0\n    AND name IS NOT NULL\n) AS ferry_routes_text"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "ferry-routes-text"
    },
    {
      "id": "admin-text",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    admin_level,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE boundary = 'administrative'\n    AND admin_level IN ('1', '2', '3', '4', '5', '6', '7', '8', '9', '10')\n    AND name IS NOT NULL\n    AND osm_id < 0\n    AND way_area > 196000*POW(!scale_denominator!*0.001*0.28,2)\n  ORDER BY admin_level::integer ASC, way_area DESC\n) AS admin_text"
      },
      "properties": {
        "minzoom": 11
      },
      "layerId": "admin-text"
    },
    {
      "id": "protected-areas-text",
      "geometry": "linestring",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    boundary,\n    tags->'protect_class' AS protect_class,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n  FROM planet_osm_polygon\n  WHERE (boundary IN ('aboriginal_lands', 'national_park')\n         OR leisure = 'nature_reserve'\n         OR (boundary = 'protected_area' AND tags->'protect_class' IN ('1','1a','1b','2','3','4','5','6')))\n    AND name IS NOT NULL\n) AS protected_areas_text"
      },
      "properties": {
        "minzoom": 13
      },
      "layerId": "protected-areas-text"
    },
    {
      "id": "amenity-low-priority",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    COALESCE(\n      'railway_' || CASE WHEN railway IN ('level_crossing', 'crossing') AND way_area IS NULL THEN railway END,\n      'amenity_' || CASE WHEN amenity IN ('bench', 'waste_basket', 'waste_disposal') AND way_area IS NULL THEN amenity END,\n      'historic_' || CASE WHEN historic IN ('wayside_cross', 'wayside_shrine') AND way_area IS NULL THEN historic END,\n      'man_made_' || CASE WHEN man_made IN ('cross') AND way_area IS NULL THEN man_made END,\n      'barrier_' || CASE WHEN barrier IN ('bollard', 'gate', 'lift_gate', 'swing_gate', 'block', 'log', 'cattle_grid', 'stile', 'motorcycle_barrier', 'cycle_barrier', 'full-height_turnstile', 'turnstile', 'kissing_gate') THEN barrier END\n    )  AS feature,\n    CASE WHEN access IN ('private', 'no', 'customers', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END AS int_access,\n    way_area,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n    FROM\n      (SELECT\n          ST_PointOnSurface(way) AS way,\n          name,\n          access,\n          amenity,\n          barrier,\n          highway,\n          historic,\n          man_made,\n          railway,\n          tags,\n          way_area\n        FROM planet_osm_polygon\n        WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n          AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n      UNION ALL\n      SELECT\n          way,\n          name,\n          access,\n          amenity,\n          barrier,\n          highway,\n          historic,\n          man_made,\n          railway,\n          tags,\n          NULL AS way_area\n        FROM planet_osm_point\n        WHERE way && !bbox!\n      ) _\n    WHERE railway IN ('level_crossing', 'crossing')\n       OR amenity IN ('bench', 'waste_basket', 'waste_disposal')\n       OR historic IN ('wayside_cross', 'wayside_shrine')\n       OR man_made IN ('cross')\n       OR barrier IN ('bollard', 'gate', 'lift_gate', 'swing_gate', 'block', 'log', 'cattle_grid', 'stile', 'motorcycle_barrier', 'cycle_barrier', 'full-height_turnstile', 'turnstile', 'kissing_gate')\n    ORDER BY\n      CASE amenity\n        WHEN 'waste_basket' THEN 1\n        WHEN 'waste_disposal' THEN 1\n        WHEN 'bench' THEN 2\n        WHEN NULL THEN 3\n      END DESC,\n      way_pixels DESC NULLS LAST\n  ) AS amenity_low_priority"
      },
      "properties": {
        "cache-features": true,
        "minzoom": 14
      },
      "layerId": "amenity-low-priority"
    },
    {
      "id": "text-low-priority",
      "geometry": "point",
      "extent": [
        -180,
        -85.05112877980659,
        180,
        85.05112877980659
      ],
      "srs-name": "3857",
      "srs": "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over",
      "Datasource": {
        "type": "postgis",
        "dbname": "oklab",
        "user": "oklab",
        "port": "5432",
        "key_field": "",
        "geometry_field": "way",
        "srid": "3857",
        "extent": "-20037508,-20037508,20037508,20037508",
        "table": "(SELECT\n    way,\n    name,\n    COALESCE(\n      'railway_' || CASE WHEN railway IN ('level_crossing', 'crossing') AND way_area IS NULL THEN railway END,\n      'amenity_' || CASE WHEN amenity IN ('bench', 'waste_basket', 'waste_disposal') AND way_area IS NULL THEN amenity END,\n      'historic_' || CASE WHEN historic IN ('wayside_cross', 'wayside_shrine') AND way_area IS NULL THEN historic END,\n      'man_made_' || CASE WHEN man_made IN ('cross') AND way_area IS NULL THEN man_made END,\n      'barrier_' || CASE WHEN barrier IN ('bollard', 'gate', 'lift_gate', 'swing_gate', 'block', 'log', 'cattle_grid', 'stile', 'motorcycle_barrier', 'cycle_barrier', 'full-height_turnstile', 'turnstile', 'kissing_gate') THEN barrier END\n    )  AS feature,\n    CASE WHEN access IN ('private', 'no', 'customers', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END AS int_access,\n    way_area,\n    way_area/NULLIF(POW(!scale_denominator!*0.001*0.28,2),0) AS way_pixels\n    FROM\n      (SELECT\n          ST_PointOnSurface(way) AS way,\n          name,\n          access,\n          amenity,\n          barrier,\n          highway,\n          historic,\n          man_made,\n          railway,\n          tags,\n          way_area\n        FROM planet_osm_polygon\n        WHERE way && !bbox! -- Not ST_PointOnSurface(way) because name might be NULL\n          AND way_area < 768000*POW(!scale_denominator!*0.001*0.28,2)\n      UNION ALL\n      SELECT\n          way,\n          name,\n          access,\n          amenity,\n          barrier,\n          highway,\n          historic,\n          man_made,\n          railway,\n          tags,\n          NULL AS way_area\n        FROM planet_osm_point\n        WHERE way && !bbox!\n      ) _\n    WHERE railway IN ('level_crossing', 'crossing')\n       OR amenity IN ('bench', 'waste_basket', 'waste_disposal')\n       OR historic IN ('wayside_cross', 'wayside_shrine')\n       OR man_made IN ('cross')\n       OR barrier IN ('bollard', 'gate', 'lift_gate', 'swing_gate', 'block', 'log', 'cattle_grid', 'stile', 'motorcycle_barrier', 'cycle_barrier', 'full-height_turnstile', 'turnstile', 'kissing_gate')\n    ORDER BY\n      CASE amenity\n        WHEN 'waste_basket' THEN 1\n        WHEN 'waste_disposal' THEN 1\n        WHEN 'bench' THEN 2\n        WHEN NULL THEN 3\n      END DESC,\n      way_pixels DESC NULLS LAST\n  ) AS amenity_low_priority"
      },
      "properties": {
        "minzoom": 17
      },
      "layerId": "text-low-priority"
    }
  ],
  "scale": 1,
  "metatile": 2,
  "name": "OpenStreetMap Carto",
  "description": "A general-purpose OpenStreetMap mapnik style, in CartoCSS"
}